## 各指标说明

### 1. 行数（权重：0.4）

**定义**：文件的总行数，包含注释行和代码行。

**评分规则**：
```
行数 × 0.4
```

| 行数范围 | 分类 | 评分示例 |
|---------|------|----------|
| < 130 行 | 健康 | 100 × 0.4 = 40 |
| 130 - 249 行 | 警告 | 200 × 0.4 = 80 |
| ≥ 250 行 | 关键 | 320 × 0.4 = 128 |

**目的**：反映代码的绝对规模，超过一定阈值（≥250 行）必须重构。

---

### 2. 圈复杂度（权重：0.3）

**定义**：McCabe 圈复杂度，衡量程序中独立路径的数量。

**检测工具**：
- Rust: `cargo clippy` - 检测循环复杂度
- Python: `pylint` - 计算每个函数的复杂度
- C++: `cpplint` - 评估圈复杂度
- JavaScript: `eslint` - 通过规则评估复杂度

**评分规则**：
```
平均圈复杂度 × 0.3
```

| 复杂度范围 | 分类 | 评分示例 |
|-----------|------|----------|
| < 5 | 简单 | 3 × 0.3 = 0.9 |
| 5 - 10 | 中等 | 7.5 × 0.3 = 2.25 |
| 10 - 20 | 复杂 | 15 × 0.3 = 4.5 |
| > 20 | 极高 | 25 × 0.3 = 7.5 |

**目的**：反映代码的控制流复杂度，复杂度高的代码更难维护和理解。

---

### 3. 嵌套深度（权重：0.2）

**定义**：代码的最大嵌套层级（如嵌套的 if/for/while 块）。

**评分规则**：
```
最大嵌套深度 × 0.2
```

| 嵌套深度 | 分类 | 评分示例 |
|---------|------|----------|
| 1 - 2 层 | 健康 | 2 × 0.2 = 0.4 |
| 3 - 4 层 | 警告 | 3.5 × 0.2 = 0.7 |
| ≥ 5 层 | 关键 | 6 × 0.2 = 1.2 |

**目的**：反映代码的可读性，嵌套过深的代码更难理解和维护。

**注**：当前版本的复杂度检测器尚未实现嵌套深度计算，此指标暂未使用。

---

### 4. 函数数量（权重：0.1）

**定义**：文件中定义的函数/方法总数。

**评分规则**：
```
函数数量 × 0.1
```

| 函数数量 | 分类 | 评分示例 |
|---------|------|----------|
| < 10 个 | 健康 | 8 × 0.1 = 0.8 |
| 10 - 20 个 | 警告 | 15 × 0.1 = 1.5 |
| > 20 个 | 关键 | 25 × 0.1 = 2.5 |

**目的**：反映代码的模块化程度，函数过多的文件应该拆分为多个模块。

**注**：当前版本的复杂度检测器尚未实现函数数量计算，此指标暂未使用。

---

