digraph LogicFlow {
  rankdir=TB;
  splines=ortho;
  node [fontname="Courier New", shape=box, style=filled, fillcolor=white];
  edge [fontname="Arial", fontsize=10];
  block_1 [label="def main", shape=box];
  exit_2 [label="return/exit", shape=doublecircle, fillcolor="#F8D7DA", color="#DC3545"];
  block_3 [label="parser = argparse.ArgumentParser(", shape=box];
  call_4 [label="parser.add_argument()", shape=ellipse, fillcolor="#E2E3E5"];
  call_5 [label="parser.add_argument()", shape=ellipse, fillcolor="#E2E3E5"];
  call_6 [label="parser.add_argument()", shape=ellipse, fillcolor="#E2E3E5"];
  call_7 [label="parser.add_argument()", shape=ellipse, fillcolor="#E2E3E5"];
  block_8 [label="args = parser.parse_args()", shape=box];
  block_9 [label="file_path = os.path.abspath(args.file)", shape=box];
  fork_10 [label="if not os.path.exists(file_path)", shape=diamond, fillcolor="#FFF3CD"];
  virtual_11 [label="True", style="dashed,filled"];
  call_12 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  call_13 [label="sys.exit()", shape=ellipse, fillcolor="#E2E3E5"];
  join_14 [label="fi", shape=point, width=0.1];
  call_15 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  virtual_16 [label="try scope", style="dashed,filled"];
  block_17 [label="engine = ASTEngine()", shape=box];
  block_18 [label="tree, code_bytes = engine.parse_file(...", shape=box];
  block_19 [label="except", shape=box];
  join_20 [label="end try", shape=point, width=0.1];
  block_21 [label="target_node = None", shape=box];
  block_22 [label="root = tree.root_node", shape=box];
  block_23 [label="functions = []", shape=box];
  block_24 [label="ext = file_path.split(\".\")[-1].lower()", shape=box];
  block_25 [label="def find_functions(node, lang_type):", shape=box];
  block_26 [label="builder = None", shape=box];
  fork_27 [label="if ext == \"rs\"", shape=diamond, fillcolor="#FFF3CD"];
  virtual_28 [label="True", style="dashed,filled"];
  block_29 [label="builder = RustCFGBuilder(code_bytes)", shape=box];
  block_30 [label="functions = find_functions(root, \"rs\")", shape=box];
  virtual_31 [label="False", style="dashed,filled"];
  fork_32 [label="elif ext == \"py\"", shape=diamond, fillcolor="#FFF3CD"];
  virtual_33 [label="True", style="dashed,filled"];
  block_34 [label="builder = PythonCFGBuilder(code_bytes)", shape=box];
  block_35 [label="functions = find_functions(root, \"py\")", shape=box];
  join_36 [label="fi", shape=point, width=0.1];
  fork_37 [label="if not functions", shape=diamond, fillcolor="#FFF3CD"];
  virtual_38 [label="True", style="dashed,filled"];
  call_39 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  call_40 [label="sys.exit()", shape=ellipse, fillcolor="#E2E3E5"];
  join_41 [label="fi", shape=point, width=0.1];
  fork_42 [label="if args.focus", shape=diamond, fillcolor="#FFF3CD"];
  virtual_43 [label="True", style="dashed,filled"];
  fork_44 [label="for fn in ...", shape=diamond, fillcolor="#FFF3CD"];
  join_45 [label="end loop", shape=point, width=0.1];
  virtual_46 [label="Body", style="dashed,filled"];
  block_47 [label="name_node = fn.child_by_field_name(\"n...", shape=box];
  block_48 [label="name = code_bytes[name_node.start_byt...", shape=box];
  fork_49 [label="if name == args.focus", shape=diamond, fillcolor="#FFF3CD"];
  virtual_50 [label="True", style="dashed,filled"];
  block_51 [label="target_node = fn", shape=box];
  join_52 [label="fi", shape=point, width=0.1];
  fork_53 [label="if not target_node", shape=diamond, fillcolor="#FFF3CD"];
  virtual_54 [label="True", style="dashed,filled"];
  call_55 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  call_56 [label="sys.exit()", shape=ellipse, fillcolor="#E2E3E5"];
  join_57 [label="fi", shape=point, width=0.1];
  virtual_58 [label="False", style="dashed,filled"];
  call_59 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  block_60 [label="target_node = functions[0]", shape=box];
  join_61 [label="fi", shape=point, width=0.1];
  block_62 [label="ulg = builder.build_from_function(tar...", shape=box];
  block_63 [label="base_name = os.path.splitext(file_pat...", shape=box];
  block_64 [label="filename = os.path.basename(base_name)", shape=box];
  block_65 [label="output_dir = f\"{base_name}_logic\"", shape=box];
  fork_66 [label="if not os.path.exists(output_dir)", shape=diamond, fillcolor="#FFF3CD"];
  virtual_67 [label="True", style="dashed,filled"];
  call_68 [label="os.makedirs()", shape=ellipse, fillcolor="#E2E3E5"];
  join_69 [label="fi", shape=point, width=0.1];
  fork_70 [label="if args.format in [\"dsl\", \"both\"]", shape=diamond, fillcolor="#FFF3CD"];
  virtual_71 [label="True", style="dashed,filled"];
  block_72 [label="dsl_out = DSLRenderer(ulg).render()", shape=box];
  block_73 [label="dsl_path = os.path.join(output_dir, f...", shape=box];
  call_74 [label="with ...", shape=ellipse, fillcolor="#E2E3E5"];
  call_75 [label="f.write()", shape=ellipse, fillcolor="#E2E3E5"];
  virtual_76 [label="__exit__", style="dashed,filled"];
  call_77 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  join_78 [label="fi", shape=point, width=0.1];
  fork_79 [label="if args.format in [\"svg\", \"both\"]", shape=diamond, fillcolor="#FFF3CD"];
  virtual_80 [label="True", style="dashed,filled"];
  block_81 [label="dot_out = DotRenderer(ulg).render()", shape=box];
  block_82 [label="dot_path = os.path.join(output_dir, f...", shape=box];
  fork_83 [label="if args.svg_dir", shape=diamond, fillcolor="#FFF3CD"];
  virtual_84 [label="True", style="dashed,filled"];
  fork_85 [label="if not os.path.exists(args.svg_dir)", shape=diamond, fillcolor="#FFF3CD"];
  virtual_86 [label="True", style="dashed,filled"];
  call_87 [label="os.makedirs()", shape=ellipse, fillcolor="#E2E3E5"];
  join_88 [label="fi", shape=point, width=0.1];
  block_89 [label="svg_path = os.path.join(args.svg_dir,...", shape=box];
  virtual_90 [label="False", style="dashed,filled"];
  block_91 [label="svg_path = os.path.join(output_dir, f...", shape=box];
  join_92 [label="fi", shape=point, width=0.1];
  call_93 [label="with ...", shape=ellipse, fillcolor="#E2E3E5"];
  call_94 [label="f.write()", shape=ellipse, fillcolor="#E2E3E5"];
  virtual_95 [label="__exit__", style="dashed,filled"];
  virtual_96 [label="try scope", style="dashed,filled"];
  block_97 [label="import subprocess", shape=box];
  call_98 [label="subprocess.run()", shape=ellipse, fillcolor="#E2E3E5"];
  call_99 [label="print()", shape=ellipse, fillcolor="#E2E3E5"];
  block_100 [label="except", shape=box];
  block_101 [label="except", shape=box];
  join_102 [label="end try", shape=point, width=0.1];
  join_103 [label="fi", shape=point, width=0.1];
  block_1 -> block_3 [color="black"];
  block_3 -> call_4 [color="black"];
  call_4 -> call_5 [color="black"];
  call_5 -> call_6 [color="black"];
  call_6 -> call_7 [color="black"];
  call_7 -> block_8 [color="black"];
  block_8 -> block_9 [color="black"];
  block_9 -> fork_10 [color="black"];
  fork_10 -> virtual_11 [label="True", color="#198754", fontcolor="#198754"];
  fork_10 -> join_14 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_11 -> call_12 [color="black"];
  call_12 -> call_13 [color="black"];
  call_13 -> join_14 [color="black"];
  join_14 -> call_15 [color="black"];
  call_15 -> virtual_16 [color="black"];
  virtual_16 -> block_17 [color="black"];
  virtual_16 -> block_19 [label="Ex", color="#DC3545", style="dashed"];
  block_17 -> block_18 [color="black"];
  block_18 -> join_20 [color="black"];
  block_19 -> join_20 [color="black"];
  join_20 -> block_21 [color="black"];
  block_21 -> block_22 [color="black"];
  block_22 -> block_23 [color="black"];
  block_23 -> block_24 [color="black"];
  block_24 -> block_25 [color="black"];
  block_25 -> block_26 [color="black"];
  block_26 -> fork_27 [color="black"];
  fork_27 -> virtual_28 [label="True", color="#198754", fontcolor="#198754"];
  fork_27 -> virtual_31 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_28 -> block_29 [color="black"];
  block_29 -> block_30 [color="black"];
  block_30 -> join_36 [color="black"];
  virtual_31 -> fork_32 [color="black"];
  fork_32 -> virtual_33 [label="True", color="#198754", fontcolor="#198754"];
  virtual_33 -> block_34 [color="black"];
  block_34 -> block_35 [color="black"];
  block_35 -> join_36 [color="black"];
  join_36 -> fork_37 [color="black"];
  fork_37 -> virtual_38 [label="True", color="#198754", fontcolor="#198754"];
  fork_37 -> join_41 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_38 -> call_39 [color="black"];
  call_39 -> call_40 [color="black"];
  call_40 -> join_41 [color="black"];
  join_41 -> fork_42 [color="black"];
  fork_42 -> virtual_43 [label="True", color="#198754", fontcolor="#198754"];
  fork_42 -> virtual_58 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_43 -> fork_44 [color="black"];
  fork_44 -> virtual_46 [label="True", color="#198754", fontcolor="#198754"];
  fork_44 -> join_45 [label="Done", color="#FD7E14", fontcolor="#FD7E14"];
  join_45 -> fork_53 [color="black"];
  virtual_46 -> block_47 [color="black"];
  block_47 -> block_48 [color="black"];
  block_48 -> fork_49 [color="black"];
  fork_49 -> virtual_50 [label="True", color="#198754", fontcolor="#198754"];
  fork_49 -> join_52 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_50 -> block_51 [color="black"];
  block_51 -> join_45 [label="break", color="#6C757D", constraint=false];
  join_52 -> fork_44 [label="repeat", color="#6C757D", constraint=false];
  fork_53 -> virtual_54 [label="True", color="#198754", fontcolor="#198754"];
  fork_53 -> join_57 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_54 -> call_55 [color="black"];
  call_55 -> call_56 [color="black"];
  call_56 -> join_57 [color="black"];
  join_57 -> join_61 [color="black"];
  virtual_58 -> call_59 [color="black"];
  call_59 -> block_60 [color="black"];
  block_60 -> join_61 [color="black"];
  join_61 -> block_62 [color="black"];
  block_62 -> block_63 [color="black"];
  block_63 -> block_64 [color="black"];
  block_64 -> block_65 [color="black"];
  block_65 -> fork_66 [color="black"];
  fork_66 -> virtual_67 [label="True", color="#198754", fontcolor="#198754"];
  fork_66 -> join_69 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_67 -> call_68 [color="black"];
  call_68 -> join_69 [color="black"];
  join_69 -> fork_70 [color="black"];
  fork_70 -> virtual_71 [label="True", color="#198754", fontcolor="#198754"];
  fork_70 -> join_78 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_71 -> block_72 [color="black"];
  block_72 -> block_73 [color="black"];
  block_73 -> call_74 [color="black"];
  call_74 -> call_75 [color="black"];
  call_75 -> virtual_76 [color="black"];
  virtual_76 -> call_77 [color="black"];
  call_77 -> join_78 [color="black"];
  join_78 -> fork_79 [color="black"];
  fork_79 -> virtual_80 [label="True", color="#198754", fontcolor="#198754"];
  fork_79 -> join_103 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_80 -> block_81 [color="black"];
  block_81 -> block_82 [color="black"];
  block_82 -> fork_83 [color="black"];
  fork_83 -> virtual_84 [label="True", color="#198754", fontcolor="#198754"];
  fork_83 -> virtual_90 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_84 -> fork_85 [color="black"];
  fork_85 -> virtual_86 [label="True", color="#198754", fontcolor="#198754"];
  fork_85 -> join_88 [label="False", color="#FD7E14", fontcolor="#FD7E14"];
  virtual_86 -> call_87 [color="black"];
  call_87 -> join_88 [color="black"];
  join_88 -> block_89 [color="black"];
  block_89 -> join_92 [color="black"];
  virtual_90 -> block_91 [color="black"];
  block_91 -> join_92 [color="black"];
  join_92 -> call_93 [color="black"];
  call_93 -> call_94 [color="black"];
  call_94 -> virtual_95 [color="black"];
  virtual_95 -> virtual_96 [color="black"];
  virtual_96 -> block_97 [color="black"];
  virtual_96 -> block_100 [label="Ex", color="#DC3545", style="dashed"];
  virtual_96 -> block_101 [label="Ex", color="#DC3545", style="dashed"];
  block_97 -> call_98 [color="black"];
  call_98 -> call_99 [color="black"];
  call_99 -> join_102 [color="black"];
  block_100 -> join_102 [color="black"];
  block_101 -> join_102 [color="black"];
  join_102 -> join_103 [color="black"];
  join_103 -> exit_2 [color="black"];
}